<!DOCTYPE html>
<html>
<head>
	<title> Musision </title>
	
	<!-- Miscellaneous sheets -->
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
  	
  	<!-- CSS Stylesheets -->
  	<link rel="stylesheet" type="text/css" href="webDesign.css"/>
	<link rel="stylesheet" type="text/css" href="introJs/introjs.css"/>
	
	<!-- BootStrap and JQuery initialization-->
  	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  	<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js'></script>
  	
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
  	  Don't need this link yet for javascript cookies-->
	
	<!-- Other code script references-->
	<!-- WAAClock library online - A scheduler that is easy to use for web audio API -->
	<!-- <script src ="http://sebpiq.github.io/WAAClock/dist/WAAClock-latest.js"></script> -->
	<!-- Wad is a Javascript library for manipulating audio using the new HTML5 Web Audio API -->
	<script src="wad-master/src/wad.js"></script>
	<script src="introJs/intro.js"></script>
	<script src="bower_components/Recorderjs/recorder.js"></script>
    <script src="app.js"></script>
	
	<!-- Own Custom scripts in local directory-->
	<script src="instruments.js"></script>
	<script src="gridSystem.js"></script>
	<script src="jQuery.js"></script>
	<script src="saveMidi.js"></script>
	<script src="myMidi.js"></script>
	
</head>

<body>
	<noscript style="color: red; font-size: 20px;"> 
		JavaScript is disabled. It is necessary to enable JavaScript to fully use our web app. 
		Here are the <a href="http://www.enable-javascript.com" target="_blank"> 
		instructions how to enable JavaScript in your web browser</a>
	</noscript>
	

	
	<div id="fb-root"></div>
	<script>
		(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>
	
   <div class="workspace">
	<nav class="navbar navbar-inverse" data-step="17" data-intro="Alright, you're all set to make your own music! 
	 Click me into oblivion!" data-position="bottom">
	 <div class="container-fluid">
	  <div class="navbar-header">
		<a class="navbar-brand" id="musisionTitle"
		   data-step="1" data-intro="Hi! Welcome to Musision, where you can be free to compose your own music! 
		   Let's go on a tour of Musision, but you can click anywhere to skip this tutorial too. Our site uses
		   JavaScript extensively so make sure that's enabled on you browser!" data-position="right"
		   TITLE="Made by Natasha Koh, Nguyen Tuong Van">
		   Musision
		</a>
	  </div>
	  <div>
		<ul class="nav navbar-nav" style="display:inline;">
		  <li>
		 	 <div class="navbar-form" 
		 	  data-step="6" data-intro="Here, you can find your composition's settings." data-position="bottom">
			 
			 <!--- Toggle between playing all notes and stop --->
			 <button id="playAndStop" class="btn" data-checked="play" data-step="8" 
			 		 data-intro="Click here to play your entire music piece. Click again to stop." 
			  		 data-position="right" TITLE="Play/Stop">
			  		 <div class="glyphicon glyphicon-play-circle"></div>
			  		 <div>Play</div>
			 </button>
			 
			 <!--  to loop all unmuted tracks -->
			 <button id ="startLoop" class="btn" data-checked="start looping"
			  		 data-step="9" data-intro="Click here to loop your entire composition. To loop only a section, SHIFT-CLICK on the starting note and DOUBLE-CLICK on the end note." 
			  		 data-position="right" TITLE="Loop your entire composition or Loop a section (SHIFT-CLICK on starting note then DOUBLE-CLICK on end note)"> 
			  		 <div class="glyphicon glyphicon-repeat"></div> 
			  		 <div>Loop</div> 
			 </button>
			 
			 <!--- to add a track --->
			 <button id="addTrack" class="btn" data-step="10" data-intro="Click here to add a track to your composition."
			  		 data-position="right" TITLE="Add a track"> 
			  		 <div class="glyphicon glyphicon-plus"></div>
			  		 <div>Track</div> 
			 </button>
			 
			 <button id="saveData" class="btn" data-step="14" data-intro="Click here to save your entire composition. You can come back 
			 	  	 and you'll continue from where you left off in your previous session. To delete your save data, delete your 
			 	  	 browser's cookies and cached data." data-position="bottom"
			 	  	 TITLE="Save progress. Delete your save data by deleting browser cookies and cached data.">
			 	  	 <div class="glyphicon glyphicon-floppy-disk"></div>
			 	  	 <div>Save</div>
	  	   	 </button>
             
             <button id="download" class="btn" onclick="saveMIDI()"
             		 data-step="15" data-intro="Download your music piece as a .mid file here! 
             		 Playing it with Windows Media Player or Quicktime Media Player is recommended." data-position="bottom">
             	     <div class="glyphicon glyphicon-download-alt"></div>
               	     <div>Download</div>
             </button>
             
             <button id="startRec" class="btn" data-checked="record"
             		 data-step="16" data-intro="Feel like grooving to your track? Click here to record your voice through your
             		 computer's mic. Click again to stop recording and download your awesome song! 
             		 (Remember not to allow mic access for our webpage!)" data-position="bottom">
			 	     <div class="glyphicon glyphicon-record"></div>
			 	     <div>Record</div>
			 </button>
			 
			 <!-- 
			 <button id="stopRec" class="btn">Stop</button>
			 -->
			 
			 <button id ="pause" class="btn"> Pause </button>
			
		 </li>	 
		 <li>
			<div class="navbar-form">
			 
	        	<input id="bpm-input" type="text" class="input-small" placeholder="120" 
				   data-step="11" data-intro="Type in your preferred BPM here and click on 'Set BPM' to change 
				   your composition's beats per minute." data-position="right">
				  	 
				<button id="bpm-button" class="btn" onclick=changeBPM() 
			  		TITLE="Set new BPM">Set BPM
				</button>
			  
			    <button id ="randomPI" class="btn" TITLE="Listen to what a melody programmed using the first few digits of PI or PHI may sound like!" 
			   			data-step="12" data-intro="Click here to listen to what a melody programmed using the first few digits of PI or PHI (Golden Ratio) may sound like!" data-position="right"> 
			   		    Randomize! 
			    </button>
			 
			    <!--- to clear all notes from timeline --->
			    <button id="clear" class="btn" 
			    		data-step="13" data-intro="Click here to clear ALL notes from ALL of your tracks" data-position="right" 
			  		    TITLE="Clear ALL notes from ALL tracks"> 
			  		    Clear All 
			  	</button>
			  	
			  	<div class="fb-like" data-href="http://musision-0511.appspot.com" data-width="50" 
  	   				data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"
  	   				data-step="18" data-intro="Hint hint...you might wanna click on this too...yeah? *wink* *wink*" data-position="bottom">
  	   	 	    </div>
			 
			 </div>
	  </div> 
	 </div> 	 
   </nav>
	
	<!-- Container class Enabled by bootstrap -->
	<div id="timeline-system" class="container">
	 
	 <div class="track">
	  
	  <div class="track-settings" data-step="3" data-intro="Here's where you can play, 
	   mute or change the instrument of your music track." data-position="right">
	    
	    <div id="play-track0" class="glyphicon glyphicon-play-circle play-button">
	    
	    </div>
	    
	    <div class="muteButton" data-muted="true">Mute</div>
	    
		<button class="displayInstrument" id="Instrument0">Piano</button>
		<!---<div class="chooseInstrument">
		
		    <ul class="instrumentMenu">
			    <li><a href="#" id="Piano">Piano</a></li>
				<li><a href="#" id="Guitar">Guitar</a></li>
				<li><a href="#" id="Violin">Violin</a></li>
				<li><a href="#" id="Flute">Flute</a></li>
				<li><a href="#" id="Bell">Bell</a></li>
		    </ul>
			
	    <!---</div>--->
	  </div>
	  
	  <div id="track0" class="timeline" data-step="2" data-intro="Drag any note here to start composing! 
	   To remove a note, drag it out of here." data-position="bottom">
	   
	    <div class="grid-system">
	  
	    </div>
	    
	    <div class="sortable-system">
	   
	    </div>
	    
	    <div class="close-panel">
	     <div class="close-button"><b class="x-cross">X</b>
	    
	     </div>
	   </div>
	  
	  </div>
	 </div>
	</div>
	
	<div id="buttons">
	 
	 <div class="toolbar-left">
	  
	  <!-- Notes left sidebar -->
	  <div id="move-vertical-button" class="toolbar-button"> 
	   <span class="glyphicon glyphicon-resize-vertical" data-step="4" 
	    data-intro="You can drag your entire notes palette up and down too." data-position="right"></span>
	  </div>
	  <div id="show-button" class="toolbar-button" 
	   data-step="5" data-intro="If you don't like the clutter of all the octaves you see in this view, 
	   you can always 'show less' by clicking here!" data-position="right">
	   View
	  </div>
	  <div id="colour-button" class="toolbar-button"
	   data-step="6" data-intro="Click here to change the colour of your notes palette!" data-position="right">
	   
	  </div>
	  <div id="rest-button" class="toolbar-button col-md-1" data-note='silence'
	   data-step="7" data-intro="This is a 'rest' note. Drag it to the timeline above easily from here." data-position="right"
	   style="height: 60px; width: 36px; bottom: 0px; padding: 17px 0px 0px 0px; font-size: 14px;"> Rest
	  
	  </div>
	 </div>
	 
	 <!--  Show more show less views -->
	 <div id="show-more-view" class="notes-buttons-holder">
	  <!-- All the buttons will go here i.e. generateNotesDiv function output-->
	  <div class='octave-holder'><div class="col-md-1" data-note=0>C2</div><div class="col-md-1" data-note=1>C#2</div><div class="col-md-1" data-note=2>D2</div><div class="col-md-1" data-note=3>D#2</div><div class="col-md-1" data-note=4>E2</div><div class="col-md-1" data-note=5>F2</div><div class="col-md-1" data-note=6>F#2</div><div class="col-md-1" data-note=7>G2</div><div class="col-md-1" data-note=8>G#2</div><div class="col-md-1" data-note=9>A2</div><div class="col-md-1" data-note=10>A#2</div><div class="col-md-1" data-note=11>B2</div></div><div class='octave-holder'><div class="col-md-1" data-note=12>C3</div><div class="col-md-1" data-note=13>C#3</div><div class="col-md-1" data-note=14>D3</div><div class="col-md-1" data-note=15>D#3</div><div class="col-md-1" data-note=16>E3</div><div class="col-md-1" data-note=17>F3</div><div class="col-md-1" data-note=18>F#3</div><div class="col-md-1" data-note=19>G3</div><div class="col-md-1" data-note=20>G#3</div><div class="col-md-1" data-note=21>A3</div><div class="col-md-1" data-note=22>A#3</div><div class="col-md-1" data-note=23>B3</div></div><div class='octave-holder'><div class="col-md-1" data-note=24>C4</div><div class="col-md-1" data-note=25>C#4</div><div class="col-md-1" data-note=26>D4</div><div class="col-md-1" data-note=27>D#4</div><div class="col-md-1" data-note=28>E4</div><div class="col-md-1" data-note=29>F4</div><div class="col-md-1" data-note=30>F#4</div><div class="col-md-1" data-note=31>G4</div><div class="col-md-1" data-note=32>G#4</div><div class="col-md-1" data-note=33>A4</div><div class="col-md-1" data-note=34>A#4</div><div class="col-md-1" data-note=35>B4</div></div><div class='octave-holder'><div class="col-md-1" data-note=36>C5</div><div class="col-md-1" data-note=37>C#5</div><div class="col-md-1" data-note=38>D5</div><div class="col-md-1" data-note=39>D#5</div><div class="col-md-1" data-note=40>E5</div><div class="col-md-1" data-note=41>F5</div><div class="col-md-1" data-note=42>F#5</div><div class="col-md-1" data-note=43>G5</div><div class="col-md-1" data-note=44>G#5</div><div class="col-md-1" data-note=45>A5</div><div class="col-md-1" data-note=46>A#5</div><div class="col-md-1" data-note=47>B5</div></div><div class='octave-holder'><div class="col-md-1" data-note=48>C6</div><div class="col-md-1" data-note=49>C#6</div><div class="col-md-1" data-note=50>D6</div><div class="col-md-1" data-note=51>D#6</div><div class="col-md-1" data-note=52>E6</div><div class="col-md-1" data-note=53>F6</div><div class="col-md-1" data-note=54>F#6</div><div class="col-md-1" data-note=55>G6</div><div class="col-md-1" data-note=56>G#6</div><div class="col-md-1" data-note=57>A6</div><div class="col-md-1" data-note=58>A#6</div><div class="col-md-1" data-note=59>B6</div></div><div class='octave-holder'><div class="col-md-1" data-note=60>C7</div><div class="col-md-1" data-note=61>C#7</div><div class="col-md-1" data-note=62>D7</div><div class="col-md-1" data-note=63>D#7</div><div class="col-md-1" data-note=64>E7</div><div class="col-md-1" data-note=65>F7</div><div class="col-md-1" data-note=66>F#7</div><div class="col-md-1" data-note=67>G7</div><div class="col-md-1" data-note=68>G#7</div><div class="col-md-1" data-note=69>A7</div><div class="col-md-1" data-note=70>A#7</div><div class="col-md-1" data-note=71>B7</div></div> 
	 </div> 
	 
	 <!-- Notes buttons holder -->
	 <div id="show-less-view" class="notes-buttons-holder">
	  
	  <div class="octave-dropdown"> Octave
	   <div class="dropdown">
	    <button id="dropdown-selection" class="dropdown-toggle" type="button" data-toggle="dropdown">2<span class="caret"></span>
	    </button>
	    <ul id="octave-num" class="dropdown-menu" role="menu">
	     <li data-index="0" role="presentation"><a role="menuitem">3</a></li>
	     <li data-index="1" role="presentation"><a role="menuitem">4</a></li>
	     <li data-index="2" role="presentation"><a role="menuitem">5</a></li>
	     <li data-index="3" role="presentation"><a role="menuitem">6</a></li>
	     <li data-index="4" role="presentation"><a role="menuitem">7</a></li>
	     </ul>
	   </div>
	  </div>
	  
	  <div id="show-less-octave-holder" class="octave-holder-less">
	   <div class="col-md-1" data-note=0>C </div>
	   <div class="col-md-1" data-note=1>C#</div>
	   <div class="col-md-1" data-note=2>D </div>
	   <div class="col-md-1" data-note=3>D#</div>
	   <div class="col-md-1" data-note=4>E</div>
	   <div class="col-md-1" data-note=5>F</div>
	   <div class="col-md-1" data-note=6>F#</div>
	   <div class="col-md-1" data-note=7>G</div>
	   <div class="col-md-1" data-note=8>G#</div>
	   <div class="col-md-1" data-note=9>A</div>
	   <div class="col-md-1" data-note=10>A#</div>
	   <div class="col-md-1" data-note=11>B</div>
	   <div style="font-size: 18px;" class="col-md-1" data-note="silence">Rest</div>
	  </div>
	 
	 </div>
	
	</div>

   </div>
	<button id="tips" class="btn"> Tips for beginners </button>
     <div id="slideshow"> 
	    
        <div class="tip">
            Between B and C, E and F there is no sharp or flat note. Their interval is the smallest possible between any 2 adjacent notes.
        </div>
		
        <div class="tip">
            In a song, there are usually high frequency parts (by violin and piano) and low frequency parts. 
        </div>
		
        <div class="tip">
            Make use of low notes (octave 2) of piano to turn it into a bass! 
        </div>
		
		<div class="tip">
            For bell, using it for higher notes (octave 5 and above) will be recommended.
        </div>
		
		<div class="tip">
            A song usually has 2 or 3 contrasting parts: Verse, (optionally pre-chorus) and chorus. The chorus is the highlight of the song.
        </div>
		
		<div class="tip">
            Vary the beat patterns of your instruments to make the composition more colourful! 
        </div>
		
		<div class="tip">
            Drag rests into random places after generating the random song and observe the random result! 
        </div>
        
        <div class="tip">
            Guitar and violin have a long release, while the rest are more bouncy. Combine these 2 types to spice up your song!
        </div>
		
		<div class="tip">
            Enter chords by having 3 tracks playing in parallel, loop the chords and start humming a melody! You can record your voice together with the music too! (Why not right!)
        </div>
        
     </div>
	 
	 
	 </div>	

  </div>
  	
</body>
 
</html>

<!-- Omitted Code -->

<!-- Riffwave.js implementation -->
<!-- generated by: jsdo.it - http://jsdo.it/CoffeeBlack/asSf -->
<!-- Copyright CoffeeBlack - http://jsdo.it/CoffeeBlack -->
<!-- Licensed under MIT License - http://www.opensource.org/licenses/mit-license.php -->
<!-- <script src="http://codebase.es/riffwave/riffwave.js"></script> -->
<!---<object id="Jazz1" classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90" class="hidden">
        <object id="Jazz2" type="audio/x-jazz" class="hidden">
            <p style="visibility:visible;">This page requires <a href=http://jazz-soft.net>Jazz-Plugin</a> ...</p>
        </object>
    </object>
	
	<script>
        var Jazz = document.getElementById("Jazz1"); if(!Jazz || !Jazz.isJazz) Jazz = document.getElementById("Jazz2");
    </script>
	
	<script>
        Jazz.MidiOut(0x90,60,120);
    </script>
	
	--->
		